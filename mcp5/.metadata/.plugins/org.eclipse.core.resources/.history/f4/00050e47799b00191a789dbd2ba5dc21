/*
 * 39.cpp
 *
 *  Created on: 2019/07/01
 *      Author: hhhhh
 */

#include <iostream>
#include <chrono>
#include <thread>
#include <complex>

using namespace std::chrono;
template <typename Duration>
struct FuncTimer_t{
	template <typename Func,typename... Args>
	static Duration elapse(Func target,Args... args){
		auto start = system_clock::now();
		std::invoke(std::forward<Func>(target), std::forward<Args>(args)...);
		return duration_cast<Duration>(system_clock::now() - start);
	}
};

int main(int argc, char **argv) {
	auto s = FuncTimer_t<milliseconds>::elapse([](int a,int b){std::this_thread::sleep_for(seconds(2));});
	std::cout << double(s) << std::endl;

	return 0;
}
